# Blog CMS 使用指南

## 快速开始

### 1. 安装和启动

```bash
# 进入CMS目录
cd cms

# 运行安装脚本
./install.sh

# 启动开发服务器
./start.sh
```

### 2. 访问CMS

打开浏览器访问：`http://localhost:5173`

## 功能使用指南

### 📝 Posts管理

#### 创建新Post
1. 点击侧边栏的"Posts"
2. 点击"新建Post"按钮
3. 填写标题、描述、标签等信息
4. 在内容编辑器中写作（支持Markdown）
5. 使用"编辑/预览"切换查看效果
6. 点击"保存"

#### 管理Posts
- **草稿状态**：新创建的Post默认为草稿，点击状态标签可切换发布状态
- **编辑Post**：在Posts列表中点击编辑图标
- **删除Post**：在Posts列表中点击删除图标
- **搜索过滤**：使用搜索框和状态过滤器快速找到内容

#### Post特殊功能
- **置顶文章**：在编辑页面勾选"置顶文章"
- **更新日期**：编辑已发布的Post时会自动更新updatedDate字段
- **标签管理**：可以输入新标签或从现有标签中选择

### 📓 Notes管理

#### 创建新Note
1. 点击侧边栏的"Notes"
2. 点击"新建Note"按钮
3. 填写标题和描述（可选）
4. 在内容编辑器中记录想法
5. 点击"保存"

#### Notes特点
- 更简洁的界面，专注于快速记录
- 按发布时间自动排序
- 支持Markdown格式

### 🏷️ Tags管理

#### 创建新Tag
1. 点击侧边栏的"Tags"
2. 点击"新建Tag"按钮
3. 输入标签名称（用于URL和文件名）
4. 输入显示标题（可选，默认使用标签名）
5. 添加描述和详细内容
6. 点击"保存"

#### Tags特点
- 卡片式展示，直观管理
- 支持详细描述和Markdown内容
- 自动按名称排序

### 📁 静态资源管理

#### 上传文件
1. 点击侧边栏的"静态资源"
2. 拖拽文件到上传区域，或点击选择文件
3. 文件会自动上传到当前目录

#### 文件管理
- **创建文件夹**：点击"新建文件夹"按钮
- **导航**：点击文件夹进入，使用面包屑导航
- **预览**：点击文件的预览图标查看内容
- **删除**：点击删除图标移除文件或文件夹
- **搜索**：使用搜索框快速找到文件

#### 支持的文件类型
- 图片：jpg, jpeg, png, gif, svg, webp
- 文档：txt, md, json
- 其他：所有文件类型都可以上传和管理

## 文件组织结构

### Posts文件路径
```
src/content/post/YYYY/MM/DD/index.md
```
例如：`src/content/post/2025/10/04/index.md`

### Notes文件路径
```
src/content/note/YYYY/MM-DD.md
```
例如：`src/content/note/2025/10-04.md`

### Tags文件路径
```
src/content/tag/标签名.md
```
例如：`src/content/tag/记录.md`

### 静态资源路径
```
public/任意目录结构
```
例如：`public/images/2025/photo.jpg`

## Frontmatter格式

### Post Frontmatter
```yaml
---
title: "文章标题"
description: "文章描述"
publishDate: "2025-10-04 15:30:00"
draft: false
tags: ["标签1", "标签2"]
pinned: false
updatedDate: "2025-10-04 16:00:00"  # 编辑时自动添加
---
```

### Note Frontmatter
```yaml
---
title: "笔记标题"
description: "笔记描述"
publishDate: "2025-10-04T15:30:00+08:00"
---
```

### Tag Frontmatter
```yaml
---
title: "标签显示名称"
description: "标签描述"
---
```

## 最佳实践

### 内容创建
1. **标题规范**：使用清晰、描述性的标题
2. **标签使用**：保持标签的一致性，避免重复含义的标签
3. **草稿流程**：先创建草稿，完善后再发布
4. **图片管理**：将图片按年月组织到相应文件夹

### 文件管理
1. **备份重要内容**：定期备份blog项目
2. **图片优化**：上传前适当压缩图片大小
3. **文件命名**：使用有意义的文件名
4. **目录结构**：保持清晰的目录层次

### 工作流程
1. **内容规划**：先创建相关标签
2. **草稿写作**：在CMS中创建草稿进行写作
3. **预览检查**：使用预览功能检查格式
4. **发布内容**：确认无误后发布
5. **资源管理**：及时整理和清理不需要的文件

## 故障排除

### 常见问题

1. **内容不显示**
   - 检查文件路径是否正确
   - 确认frontmatter格式无误
   - 检查文件权限

2. **上传失败**
   - 检查文件大小（限制10MB）
   - 确认目录权限
   - 检查磁盘空间

3. **预览异常**
   - 检查Markdown语法
   - 确认图片路径正确
   - 刷新浏览器缓存

4. **保存失败**
   - 检查网络连接
   - 确认服务器运行正常
   - 查看浏览器控制台错误

### 获取帮助

如果遇到问题：
1. 查看浏览器控制台错误信息
2. 检查服务器日志
3. 确认blog项目路径配置正确
4. 重启CMS服务器

## 高级功能

### 批量操作
- 可以通过文件系统直接操作多个文件
- 使用标签过滤快速管理相关内容

### 自定义配置
编辑`server/config.js`来自定义：
- Blog项目路径
- 默认frontmatter模板
- 文件组织规则

### 扩展开发
CMS采用模块化设计，可以轻松添加新功能：
- 添加新的内容类型
- 自定义编辑器功能
- 集成第三方服务
